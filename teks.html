<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesan Khusus ðŸŒ™</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

        * {
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: #0a0e27;
            min-height: 100vh;
            overflow-y: auto;
            overflow-x: hidden;
            position: relative;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 105, 180, 0.3) transparent;
        }

        body::-webkit-scrollbar {
            width: 8px;
        }

        body::-webkit-scrollbar-track {
            background: transparent;
        }

        body::-webkit-scrollbar-thumb {
            background: rgba(255, 105, 180, 0.3);
            border-radius: 4px;
        }

        /* Animated particles background */
        .particles-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 105, 180, 0.6);
            border-radius: 50%;
            animation: twinkle 4s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% {
                opacity: 0.3;
            }
            50% {
                opacity: 1;
            }
        }

        /* Content wrapper */
        .content-wrapper {
            position: relative;
            z-index: 10;
            max-width: 800px;
            margin: 0 auto;
            padding: 60px 40px;
        }

        /* Typewriter text */
        .typewriter-container {
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 60px;
        }

        .typewriter-text {
            font-size: 24px;
            color: #ff69b4;
            text-align: center;
            font-weight: 600;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
            line-height: 1.6;
            min-height: 100px;
        }

        /* Long text paragraphs */
        .long-text {
            opacity: 0;
            animation: fadeInParaGraph 1.8s ease-out forwards; /* Diperlambat dari 1.2s ke 1.8s */
            margin-bottom: 30px;
            font-size: 16px;
            line-height: 1.8;
            color: #e8d4e8;
            text-align: justify;
            text-shadow: 0 0 10px rgba(255, 105, 180, 0.1);
        }

        @keyframes fadeInParaGraph {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Closing message */
        .closing-message {
            opacity: 0;
            text-align: center;
            margin-top: 60px;
            margin-bottom: 40px;
            animation: fadeInClose 1.5s ease-out forwards; /* Diperlambat dari 1.2s ke 1.5s */
        }

        @keyframes fadeInClose {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .closing-message p {
            font-size: 28px;
            color: #ff69b4;
            text-shadow: 0 0 20px rgba(255, 105, 180, 0.6);
            font-weight: 700;
            margin: 10px 0;
        }

        /* Close button */
        .close-button {
            opacity: 0;
            animation: fadeInButton 1.2s ease-out forwards; /* Diperlambat dari 0.8s ke 1.2s */
            margin-top: 30px;
            text-align: center;
        }

        @keyframes fadeInButton {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .close-button button {
            padding: 14px 40px;
            background: linear-gradient(135deg, #ff69b4 0%, #ff1493 100%);
            color: #fff;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(255, 105, 180, 0.4);
        }

        .close-button button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(255, 105, 180, 0.6);
        }

        .close-button button:active {
            transform: translateY(-1px);
        }

        /* Music indicator */
        .music-indicator {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 20;
            opacity: 0;
            animation: fadeInMusic 1s ease-out 1s forwards;
        }

        @keyframes fadeInMusic {
            from {
                opacity: 0;
                transform: scale(0.5);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .music-bar {
            display: inline-block;
            width: 4px;
            height: 20px;
            background: linear-gradient(180deg, #ff69b4 0%, #ff1493 100%);
            margin: 0 3px;
            border-radius: 2px;
            animation: musicBounce 0.5s ease-in-out infinite;
            box-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
        }

        .music-bar:nth-child(1) {
            animation-delay: 0s;
        }

        .music-bar:nth-child(2) {
            animation-delay: 0.1s;
        }

        .music-bar:nth-child(3) {
            animation-delay: 0.2s;
        }

        .music-bar:nth-child(4) {
            animation-delay: 0.3s;
        }

        @keyframes musicBounce {
            0%, 100% {
                height: 10px;
            }
            50% {
                height: 30px;
            }
        }
    </style>
</head>
<body>
    <!-- Particles background -->
    <div class="particles-background" id="particles-container"></div>

    <!-- Main content -->
    <div class="content-wrapper">
        <!-- Typewriter text -->
        <div class="typewriter-container">
            <div class="typewriter-text" id="typewriter"></div>
        </div>

        <!-- Long text paragraphs -->
        <div id="long-texts-container"></div>

        <!-- Closing message -->
        <div class="closing-message" id="closing-message">
            <p>Terima kasih udah jadi kamu, Lia. ðŸŽ‚âœ¨</p>
        </div>

        <!-- Close button -->
        <div class="close-button" id="close-button">
            <button onclick="closePage()">Tutup halaman dengan senyum ðŸ˜Š</button>
        </div>
    </div>

    <!-- Music indicator -->
    <div class="music-indicator" id="music-indicator">
        <div class="music-bar"></div>
        <div class="music-bar"></div>
        <div class="music-bar"></div>
        <div class="music-bar"></div>
    </div>

    <script>
        // Create particles background
        function createParticles() {
            const container = document.getElementById('particles-container');
            const particleCount = 100;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animation = `twinkle ${3 + Math.random() * 3}s ease-in-out infinite`;
                particle.style.animationDelay = Math.random() * 2 + 's';
                particle.style.opacity = (0.2 + Math.random() * 0.8);
                container.appendChild(particle);
            }
        }

        createParticles();

        // Audio context and music control
        let musicAudioElement;

        function startMusic() {
            // Create audio element if not exists
            if (!musicAudioElement) {
                musicAudioElement = new Audio('./music/If.mp3');
                musicAudioElement.loop = true; // Enable auto-loop
                musicAudioElement.volume = 0;
            }

            // Play music immediately
            const playPromise = musicAudioElement.play();
            
            // Handle potential autoplay policy
            if (playPromise !== undefined) {
                playPromise.catch(error => {
                    console.log('Autoplay prevented, user interaction needed');
                });
            }
            
            // Fade in music smoothly
            const fadeInDuration = 3; // 3 seconds fade in
            const startTime = Date.now();

            const fadeInInterval = setInterval(() => {
                const elapsed = (Date.now() - startTime) / 1000;
                const progress = Math.min(elapsed / fadeInDuration, 1);
                musicAudioElement.volume = 0.4 * progress; // Max volume 0.4

                if (progress >= 1) {
                    clearInterval(fadeInInterval);
                }
            }, 50);
        }

        // Typewriter effect
        const typewriterText = "Haii Liaa, ada sedikit pesan dari akuuâ€¦ minta waktunya sedikit lagi yaa~ ðŸŒ™";
        const typewriterElement = document.getElementById('typewriter');
        let typewriterIndex = 0;

        function typewriterEffect() {
            if (typewriterIndex < typewriterText.length) {
                typewriterElement.textContent += typewriterText[typewriterIndex];
                typewriterIndex++;
                setTimeout(typewriterEffect, 80); // Dipercepat menjadi 80ms
            }
        }

        // Long text data
        const longTexts = [
            "Liaa, aku mau ngomong sesuatu yang udah lama pengen aku sampaiin. Kamu tau ga, setiap hari aku selalu mikir tentang kamu. Bukan karena kewajiban, tapi karena aku benar-benar peduli sama kamu. Senyuman kamu bisa membuatku hari yang suram menjadi cerah.",
            
            "Kamu punya cara yang unik untuk membuat orang di sekitar kamu merasa special. Ketika kamu tertawa, suasana disekitarmu terasa lebih hidup dan berwarna. Aku bersyukur banget bisa jadi bagian dari hidup kamu, walaupun cuma sebentar di hari spesial ini.",
            
            "Tahu gak, ada banyak hal yang aku suka dari kamu. Cara kamu berbicara yang unik, senyuman yang tulus, dan ketulusan hati kamu yang membuat orang merasa aman disekitar kamu. Semua itu membuat kamu spesial, lebih dari yang kamu kira.",
            
            "Aku harap di hari istimewa ini, kamu bisa merasakan seberapa berharganya kamu bagi orang-orang di sekitar kamu. Jangan pernah meragukan nilai kamu, karena kamu lebih berharga dari apa yang kamu bayangkan. Mimpi-mimpi kamu itu indah, dan aku percaya kamu bisa mewujudkannya.",
            
            "Semoga ke depannya, kamu bisa selalu menjadi diri sendiri yang luar biasa ini. Terus berkembang, terus belajar, dan terus memberikan cahaya bagi orang-orang disekitar kamu. Karena dunia butuh lebih banyak orang seperti kamu yang penuh dengan kebaikan dan keceriaan.",
            
            "Aku berharap kita bisa terus terhubung, terus berbagi cerita, dan terus mendukung impian satu sama lain. Kamu adalah teman yang berharga bagi aku, dan aku tidak ingin kehilangan itu. Semoga persahabatan kita bisa bertahan selamanya dan terus memberi makna bagi hidup kita.",
            
            "Di hari spesial ini, aku cuma ingin bilang - Terima kasih telah menjadi kamu. Terima kasih telah membuat hidup aku lebih bermakna. Terima kasih telah ada saat aku membutuhkan. Semoga setiap hari kamu penuh dengan kebahagiaan, senyuman, dan orang-orang yang mencintai kamu sepenuh hati seperti aku."
        ];

        // Display long texts with fade-in effect
        function displayLongTexts() {
            const container = document.getElementById('long-texts-container');
            let delay = 0;

            longTexts.forEach((text, index) => {
                const paragraph = document.createElement('p');
                paragraph.className = 'long-text';
                paragraph.textContent = text;
                paragraph.style.animationDelay = delay + 's';
                container.appendChild(paragraph);
                delay += 1.2; // Diperbesar dari 0.5s menjadi 1.2s untuk spacing yang lebih luas
            });

            // Show closing message and button with delays
            document.getElementById('closing-message').style.animationDelay = delay + 's';
            document.getElementById('close-button').style.animationDelay = (delay + 0.8) + 's';
        }

        // Close page function with SweetAlert2
        function closePage() {
            // Keep music playing - jangan fade out
            // Music will continue playing in the background

            // Add fade out animation to content
            const wrapper = document.querySelector('.content-wrapper');
            wrapper.style.animation = 'fadeOut 0.8s ease-out forwards';

            setTimeout(() => {
                // SweetAlert2 message before closing
                Swal.fire({
                    title: 'Terima Kasih',
                    html: '<span style="font-family: \'Poppins\', sans-serif; font-size: 16px;">Makasih udah jadi bagian dari cerita aku, Lia!<br>Selamat Hari Ulang Tahun! ðŸŽ‚âœ¨<br><br>Semoga hari mu penuh dengan kebahagiaan dan orang-orang yang sayang sama kamu. ðŸŒŸ</span>',
                    confirmButtonText: 'Oke ðŸ˜Š',
                    background: '#0a0e27',
                    color: '#ff69b4',
                    confirmButtonColor: '#ff69b4',
                    allowOutsideClick: false,
                    allowEscapeKey: false,
                    didClose: () => {
                        window.close();
                    }
                });
            }, 800);
        }

        // Add fade out animation to styles
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                from {
                    opacity: 1;
                }
                to {
                    opacity: 0;
                }
            }

            /* SweetAlert2 customization */
            .swal2-popup {
                font-family: 'Poppins', sans-serif !important;
                border-radius: 20px !important;
                box-shadow: 0 0 40px rgba(255, 105, 180, 0.3) !important;
            }

            .swal2-title {
                font-family: 'Poppins', sans-serif !important;
                color: #ff69b4 !important;
                font-size: 28px !important;
                font-weight: 700 !important;
                text-shadow: 0 0 15px rgba(255, 105, 180, 0.5) !important;
            }

            .swal2-html-container {
                font-family: 'Poppins', sans-serif !important;
            }

            .swal2-confirm {
                font-family: 'Poppins', sans-serif !important;
                border-radius: 25px !important;
                padding: 12px 40px !important;
                font-weight: 600 !important;
                box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4) !important;
            }

            .swal2-confirm:hover {
                box-shadow: 0 8px 25px rgba(255, 105, 180, 0.6) !important;
            }
        `;
        document.head.appendChild(style);

        // Start music, typewriter, and display texts on page load
        window.addEventListener('load', () => {
            // Start music immediately
            setTimeout(startMusic, 300);
            
            // Start typewriter effect
            setTimeout(typewriterEffect, 500);
            
            // Display long texts after music and typewriter start
            setTimeout(displayLongTexts, 2000);
        });
    </script>
</body>
</html>
